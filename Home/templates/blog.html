{% load static %}
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" name="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="{% static 'css/blog.css' %}">
        <link id="theme-style" rel="stylesheet" type="text/css" href="">
    </head>
    <body>
        <section class="s1">
            <div class="main-container">
                <div class="greeting-wrapper">
                    <h1>Welcome to Techno Blog</h1>
                </div>

                <div class="intro-wrapper">
                    <div class="nav-wrapper">

                        <a href="index.html">
                            <div class="dots-wrapper">
                                <div id="dot-1" class="browser-dot"></div>
                                <div id="dot-2" class="browser-dot"></div>
                                <div id="dot-3" class="browser-dot"></div>
                            </div>
                        </a>

                        <div id="theme-options-wrapper">
                            <div data-mode="light" id="light-mode" class="theme-dot"></div>
                            <div data-mode="blue" id="blue-mode" class="theme-dot"></div>
                            <div data-mode="green" id="green-mode" class="theme-dot"></div>
                            <div data-mode="purple" id="purple-mode" class="theme-dot"></div>
                        </div>

                        <ul id="navigation">
                            <li><a href="/">Home</a></li>
                            <li><a href="login">Login</a></li>
                            <li><a href="sign">Sign-in</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- javascript code for background color button -->
        <script>
            console.log('Its Working')

            let theme = localStorage.getItem('theme')

            if(theme == null){
                setTheme('light')
            }else{
                setTheme(theme)
            }

            let themeDots = document.getElementsByClassName('theme-dot')

            for(var i=0; themeDots.length > i; i++){
                themeDots[i].addEventListener('click', function(){
                    let mode = this.dataset.mode
                    console.log('Option clicked', mode)
                    setTheme(mode)
                })
            }

            function setTheme(mode){
                if(mode == 'light'){
                    document.getElementById('theme-style').href = '{% static 'blog.css' %}'
                }

                if(mode == 'blue'){
                    document.getElementById('theme-style').href = '{% static 'blue.css' %}'
                }

                if(mode == 'green'){
                    document.getElementById('theme-style').href = '{% static 'green.css' %}'
                }

                if(mode == 'purple'){
                    document.getElementById('theme-style').href = '{% static 'purple.css' %}'
                }

                localStorage.getItem('theme', mode)
            }
        </script>

        <!-- javascript code for background color button -->
    </body>
</html>